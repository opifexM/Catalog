<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <title>Catalog - Computers</title>
</head>
<body class="d-flex flex-column min-vh-100">
<div th:replace="~{menu.html}"></div>

<div class="container mt-3">
    <div th:if="${session.flash}" th:class="'alert ' + ${session.flashtype}" role="alert"
         th:text="${session.flash}"></div>
    <div th:if="${session.flash}" th:text="${#session.removeAttribute('flash')}"></div>

    <h2>Welcome to the Computer Catalog!</h2>

    <div class="col-md-4 border border-info rounded">
        <p>Items in the database:</p>
        <table class="table">
            <thead>
            <tr>
                <th scope="col">Product Type</th>
                <th scope="col">Count</th>
            </tr>
            </thead>
            <tbody>

            <tr>
                <td>Computers</td>
                <td th:text="${computerCount}">20</td>
                <td>Spring Data JPA Criteria API</td>
            </tr>
            <tr>
                <td>Motherboards</td>
                <td th:text="${motherboardCount}">20</td>
                <td>Spring Data JPA Specification API</td>
            </tr>
            <tr>
                <td>Power Supplies</td>
                <td th:text="${powerSupplyCount}">30</td>
                <td>Annotation-based Query Declaration</td>
            </tr>
            <tr>
                <td>Video Cards</td>
                <td th:text="${videoCardCount}">40</td>
                <td>Query Creation from Method Names</td>
            </tr>
            <tr>
                <div class="mb-3">
                    <td>
                        <form method="post" th:action="@{/delete}">
                            <input type="submit" class="btn btn-danger" value="Clear all tables">
                        </form>
                    </td>

                    <td></td>
                    <td>
                        <form method="post" th:action="@{/upload}">
                            <input type="submit" class="btn btn-success" value="Upload data">
                        </form>
                    </td>
                </div>
            </tr>
        </table>

    </div>
</div>
</body>
</html>